<!DOCTYPE HTML>
<html>
<head>
	<meta charset="UTF-8">
	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript" src="js/highcharts.js"></script>
	

	<script type="text/javascript" src="js/performance.js"></script>
	<script type="text/javascript" src="js/cpu.js"></script>
	<script type="text/javascript" src="js/mem.js"></script>
	<script type="text/javascript" src="js/network.js"></script>
</head>
<body>
<div id="cpuChart" style="width:500px;height:200px"></div>
<div id="memChart" style="width:500px;height:200px"></div>
<div id="networkChart" style="width:500px;height:200px"></div>
</body>
</html>
<script type="text/javascript">
 var chartMap = new Map();
	// function drawLine(params){
	// 	if(updatePerformanceTimeout != undefined && updatePerformanceTimeout > 0){
	// 		clearTimeout(updatePerformanceTimeout);
	// 	}
	// 	if(params==undefined){
	// 		params = "intervalStr=480000&cf=AVERAGE"; 
	// 	} 
	// 	showLoading();
	// 	$.PERFORMANCE.getPerformanceByHostId("<%=dcId%>","<%=hostId%>",params,true,
	// 		function(data){
	// 			hideLoading();
	// 			$("#performance_host_data_select").attr("disabled",false);
	// 			$("#host_cpu_btn").show();
	// 			try{
	// 				drawLineCpu(data, cpuPerformanceType);
	// 				drawLineMemory(data);
	// 				drawLineNetWork(data,"host");
	// 			}catch(err){}
	// 			_hosttimer = "loadPerformanceData("+ data.end+", "+data.step+")";

	// 			updatePerformanceTimeout = setTimeout(_hosttimer, 20000);
	// 	});
		
	// }
	function counXInterval(lineNum,xInterval){
		xInterval = xInterval * 2;
		lineNum = lineNum/2;
		if(Math.ceil(lineNum)>5){
			return counXInterval(lineNum,xInterval);
		}else{
			return lineNum+","+xInterval;
		}
	}
	$.ajax({
		url:"js/data.json",
		//url:"https://192.168.213.147:8090/restServlet?connectorId=1&apiKey=pc.winserver.resourcePool.getCapacity&placeholder=7",
		success:function(data){

			drawLineCpu($.PERFORMANCE.formHostJson(data), "all");
			drawLineMemory($.PERFORMANCE.formHostJson(data));
			drawLineNetWork($.PERFORMANCE.formHostJson(data),"host");
		}
	})
</script>